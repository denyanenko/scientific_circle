<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<main class="container my-5">
    <div class="mx-auto p-4 rounded-4 shadow bg-white" style="max-width: 1000px;">
        <h2 class="text-center mb-4">üì© –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h2>

        <form id="invite-form">
            <div class="mb-3">
                <label for="email" class="form-label">Email –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</label>
                <input type="email" class="form-control" id="email" required>
            </div>

            <div class="mb-3">
                <label for="role" class="form-label">–†–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</label>
                <select class="form-select" id="role" required>
                    <option value="" selected disabled>–û–±–µ—Ä—ñ—Ç—å —Ä–æ–ª—å</option>
                    <option value="admin">–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                    <option value="mentor">–ú–µ–Ω—Ç–æ—Ä</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary w-100">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è</button>
        </form>

        <div id="invite-message" class="mt-4"></div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/layout.js"></script>
<script>
    document.getElementById('invite-form').addEventListener('submit', async function (e) {
        e.preventDefault();

        const email = document.getElementById('email').value.trim();
        const role = document.getElementById('role').value;

        const response = await fetch('/invite', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email, role })
        });

        const messageDiv = document.getElementById('invite-message');
        const data = await response.json();

        if (response.ok) {
            messageDiv.innerHTML = `<div class="alert alert-success">‚úÖ ${data.message}</div>`;
            document.getElementById('invite-form').reset();
        } else {
            messageDiv.innerHTML = `<div class="alert alert-danger">‚ùå ${data.message}</div>`;
        }
    });
</script>
</body>
</html>
